{"version":3,"sources":["app.js"],"names":["container","document","getElementById","ajax","XMLHttpRequest","content","createElement","NEWS_URL","CONTENT_URL","store","currentPage","getData","url","open","send","JSON","parse","response","newsFeed","newsList","template","i","push","id","title","comments_count","replace","join","innerHTML","newsDetail","location","hash","substr","newsContent","router","routePath","indexOf","Number","window","addEventListener"],"mappings":"AAAA,IAAMA,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAlB;AACA,IAAMC,IAAI,GAAG,IAAIC,cAAJ,EAAb;AACA,IAAMC,OAAO,GAAGJ,QAAQ,CAACK,aAAT,CAAuB,KAAvB,CAAhB;AACA,IAAMC,QAAQ,GAAG,sCAAjB;AACA,IAAMC,WAAW,GAAG,wCAApB;AACA,IAAMC,KAAK,GAAG;AACVC,EAAAA,WAAW,EAAG;AADJ,CAAd,EAKA;;AACA,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;AAElBT,EAAAA,IAAI,CAACU,IAAL,CAAU,KAAV,EAAiBD,GAAjB,EAAsB,KAAtB;AACAT,EAAAA,IAAI,CAACW,IAAL,GAHkB,CAKlB;;AACA,SAAOC,IAAI,CAACC,KAAL,CAAWb,IAAI,CAACc,QAAhB,CAAP;AACH,EAED;;;AACA,SAASC,QAAT,GAAoB;AAEhB,MAAMA,QAAQ,GAAGP,OAAO,CAACJ,QAAD,CAAxB;AACA,MAAMY,QAAQ,GAAG,EAAjB;AACA,MAAIC,QAAQ,sWAAZ;;AAeA,OAAI,IAAIC,CAAC,GAAG,CAACZ,KAAK,CAACC,WAAN,GAAoB,CAArB,IAA0B,EAAtC,EAA0CW,CAAC,GAAGZ,KAAK,CAACC,WAAN,GAAoB,EAAlE,EAAsEW,CAAC,EAAvE,EAA0E;AAEtEF,IAAAA,QAAQ,CAACG,IAAT,wDAEsBJ,QAAQ,CAACG,CAAD,CAAR,CAAYE,EAFlC,8BAGML,QAAQ,CAACG,CAAD,CAAR,CAAYG,KAHlB,eAG4BN,QAAQ,CAACG,CAAD,CAAR,CAAYI,cAHxC;AAOH,GA5Be,CA8BhB;;;AACAL,EAAAA,QAAQ,GAAGA,QAAQ,CAACM,OAAT,CAAiB,mBAAjB,EAAsCP,QAAQ,CAACQ,IAAT,CAAc,EAAd,CAAtC,CAAX;AACAP,EAAAA,QAAQ,GAAGA,QAAQ,CAACM,OAAT,CAAiB,mBAAjB,EAAsCjB,KAAK,CAACC,WAAN,GAAoB,CAApB,GAAwBD,KAAK,CAACC,WAAN,GAAoB,CAA5C,GAAgD,CAAtF,CAAX;AACAU,EAAAA,QAAQ,GAAGA,QAAQ,CAACM,OAAT,CAAiB,mBAAjB,EAAsCjB,KAAK,CAACC,WAAN,GAAoB,CAA1D,CAAX;AAGAV,EAAAA,SAAS,CAAC4B,SAAV,GAAsBR,QAAtB;AAEH,EAED;;;AACA,SAASS,UAAT,GAAqB;AACjB,MAAMN,EAAE,GAAGO,QAAQ,CAACC,IAAT,CAAcC,MAAd,CAAqB,CAArB,CAAX,CADiB,CACmB;;AACpC,MAAMC,WAAW,GAAGtB,OAAO,CAACH,WAAW,CAACkB,OAAZ,CAAoB,KAApB,EAA0BH,EAA1B,CAAD,CAA3B;AAEAvB,EAAAA,SAAS,CAAC4B,SAAV,uBACMK,WAAW,CAACT,KADlB,0DAIsBf,KAAK,CAACC,WAJ5B;AAOH,EAED;;;AACA,SAASwB,MAAT,GAAiB;AACb,MAAMC,SAAS,GAAGL,QAAQ,CAACC,IAA3B,CADa,CAGb;;AACA,MAAGI,SAAS,KAAK,EAAjB,EAAoB;AAChBjB,IAAAA,QAAQ;AACX,GAFD,MAEO,IAAGiB,SAAS,CAACC,OAAV,CAAkB,SAAlB,KAAgC,CAAnC,EAAqC;AACxC3B,IAAAA,KAAK,CAACC,WAAN,GAAoB2B,MAAM,CAACF,SAAS,CAACH,MAAV,CAAiB,CAAjB,CAAD,CAA1B;AACAd,IAAAA,QAAQ;AACX,GAHM,MAGA;AACHW,IAAAA,UAAU;AACb;AACJ;;AAEDS,MAAM,CAACC,gBAAP,CAAwB,YAAxB,EAAsCL,MAAtC;AAEAA,MAAM","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["const container = document.getElementById('root');\nconst ajax = new XMLHttpRequest();\nconst content = document.createElement('div');\nconst NEWS_URL = 'https://api.hnpwa.com/v0/news/1.json';\nconst CONTENT_URL = 'https://api.hnpwa.com/v0/item/@id.json';\nconst store = {\n    currentPage : 1,\n};\n\n\n//ajax url 처리 및 중복 제거 함수\nfunction getData(url) {\n\n    ajax.open('GET', url, false);\n    ajax.send();\n\n    //JSON.parse(ajax.response) 값을 반환\n    return JSON.parse(ajax.response);\n}\n\n//뉴스 리스트 함수\nfunction newsFeed() {\n\n    const newsFeed = getData(NEWS_URL);\n    const newsList = [];\n    let template = `\n    <div class=\"container mx-auto p-4\">\n        <h1>Haker News</h1>\n        <ul>\n            {{__news_feed__}}\n        </ul>\n        <div>\n            <a href=\"#/page/{{__prev_page__}}\">이전 페이지</a>\n            <a href=\"#/page/{{__next_page__}}\">다음 페이지</a>\n        </div>\n    </div>\n    `;\n\n\n\n    for(let i = (store.currentPage - 1) * 10; i < store.currentPage * 10; i++){\n        \n        newsList.push(`\n        <li>\n            <a href=\"#/show/${newsFeed[i].id}\">\n            ${newsFeed[i].title} (${newsFeed[i].comments_count})\n            </a>\n        </li>    \n        `);   \n    } \n\n    //marking\n    template = template.replace('{{__news_feed__}}', newsList.join(''));\n    template = template.replace('{{__prev_page__}}', store.currentPage > 1 ? store.currentPage - 1 : 1);\n    template = template.replace('{{__next_page__}}', store.currentPage + 1);\n\n\n    container.innerHTML = template;\n\n}\n\n//뉴스 상세 내용\nfunction newsDetail(){\n    const id = location.hash.substr(7); //주소 값을 7째 부터 시작\n    const newsContent = getData(CONTENT_URL.replace('@id',id));\n\n    container.innerHTML = `\n    <h1>${newsContent.title}</h1>\n\n    <div>\n        <a href=\"#/page/${store.currentPage}\">목록으로</a>\n    </div>    \n    `;\n}\n\n//라우터 : 상황에 맞게 화면을 중계해주는 것 (a화면 b화면 c화면)\nfunction router(){\n    const routePath = location.hash;\n\n    //location.hash에 #이 들어오면 빈값만 반환한다.\n    if(routePath === ''){\n        newsFeed();\n    } else if(routePath.indexOf('#/page/') >= 0){\n        store.currentPage = Number(routePath.substr(7));\n        newsFeed();\n    } else {\n        newsDetail();\n    }\n}\n\nwindow.addEventListener('hashchange', router);\n\nrouter();"]}