{"version":3,"sources":["app.js"],"names":["container","document","getElementById","ajax","XMLHttpRequest","content","createElement","NEWS_URL","CONTENT_URL","store","currentPage","getData","url","open","send","JSON","parse","response","newsFeed","newsList","push","i","id","title","comments_count","innerHTML","join","newsDetail","location","hash","substr","newsContent","replace","router","routPath","indexOf","Number","window","addEventListener"],"mappings":"AAAA,IAAMA,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAlB;AACA,IAAMC,IAAI,GAAG,IAAIC,cAAJ,EAAb;AACA,IAAMC,OAAO,GAAGJ,QAAQ,CAACK,aAAT,CAAuB,KAAvB,CAAhB;AACA,IAAMC,QAAQ,GAAG,sCAAjB;AACA,IAAMC,WAAW,GAAG,wCAApB;AACA,IAAMC,KAAK,GAAG;AACVC,EAAAA,WAAW,EAAG;AADJ,CAAd,EAKA;;AACA,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;AAElBT,EAAAA,IAAI,CAACU,IAAL,CAAU,KAAV,EAAiBD,GAAjB,EAAsB,KAAtB;AACAT,EAAAA,IAAI,CAACW,IAAL,GAHkB,CAKlB;;AACA,SAAOC,IAAI,CAACC,KAAL,CAAWb,IAAI,CAACc,QAAhB,CAAP;AACH,EAED;;;AACA,SAASC,QAAT,GAAoB;AAEhB,MAAMA,QAAQ,GAAGP,OAAO,CAACJ,QAAD,CAAxB;AACA,MAAMY,QAAQ,GAAG,EAAjB;AAEAA,EAAAA,QAAQ,CAACC,IAAT,CAAc,MAAd;;AAEA,OAAI,IAAIC,CAAC,GAAG,CAACZ,KAAK,CAACC,WAAN,GAAoB,CAArB,IAA0B,EAAtC,EAA0CW,CAAC,GAAGZ,KAAK,CAACC,WAAN,GAAoB,EAAlE,EAAsEW,CAAC,EAAvE,EAA0E;AAEtEF,IAAAA,QAAQ,CAACC,IAAT,wDAEsBF,QAAQ,CAACG,CAAD,CAAR,CAAYC,EAFlC,8BAGMJ,QAAQ,CAACG,CAAD,CAAR,CAAYE,KAHlB,eAG4BL,QAAQ,CAACG,CAAD,CAAR,CAAYG,cAHxC;AAOH;;AAEDL,EAAAA,QAAQ,CAACC,IAAT,CAAc,OAAd;AACAD,EAAAA,QAAQ,CAACC,IAAT,mDAEwBX,KAAK,CAACC,WAAN,GAAoB,CAApB,GAAwBD,KAAK,CAACC,WAAN,GAAoB,CAA5C,GAAgD,CAFxE,gFAGwBD,KAAK,CAACC,WAAN,GAAoB,CAH5C;AAMAV,EAAAA,SAAS,CAACyB,SAAV,GAAsBN,QAAQ,CAACO,IAAT,CAAc,EAAd,CAAtB;AAEH,EAED;;;AACA,SAASC,UAAT,GAAqB;AACjB,MAAML,EAAE,GAAGM,QAAQ,CAACC,IAAT,CAAcC,MAAd,CAAqB,CAArB,CAAX;AACA,MAAMC,WAAW,GAAGpB,OAAO,CAACH,WAAW,CAACwB,OAAZ,CAAoB,KAApB,EAA0BV,EAA1B,CAAD,CAA3B;AAEAtB,EAAAA,SAAS,CAACyB,SAAV,uBACMM,WAAW,CAACR,KADlB,0DAIsBd,KAAK,CAACC,WAJ5B;AAOH,EAED;;;AACA,SAASuB,MAAT,GAAiB;AACb,MAAMC,QAAQ,GAAGN,QAAQ,CAACC,IAA1B,CADa,CAGb;;AACA,MAAGK,QAAQ,KAAK,EAAhB,EAAmB;AACfhB,IAAAA,QAAQ;AACX,GAFD,MAEO,IAAGgB,QAAQ,CAACC,OAAT,CAAiB,SAAjB,KAA+B,CAAlC,EAAoC;AACvC1B,IAAAA,KAAK,CAACC,WAAN,GAAoB0B,MAAM,CAACF,QAAQ,CAACJ,MAAT,CAAgB,CAAhB,CAAD,CAA1B;AACAZ,IAAAA,QAAQ;AACX,GAHM,MAGA;AACHS,IAAAA,UAAU;AACb;AACJ;;AAEDU,MAAM,CAACC,gBAAP,CAAwB,YAAxB,EAAsCL,MAAtC;AAEAA,MAAM","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["const container = document.getElementById('root');\nconst ajax = new XMLHttpRequest();\nconst content = document.createElement('div');\nconst NEWS_URL = 'https://api.hnpwa.com/v0/news/1.json';\nconst CONTENT_URL = 'https://api.hnpwa.com/v0/item/@id.json';\nconst store = {\n    currentPage : 1,\n};\n\n\n//ajax url 처리 및 중복 제거 함수\nfunction getData(url) {\n\n    ajax.open('GET', url, false);\n    ajax.send();\n\n    //JSON.parse(ajax.response) 값을 반환\n    return JSON.parse(ajax.response);\n}\n\n//뉴스 리스트 함수\nfunction newsFeed() {\n\n    const newsFeed = getData(NEWS_URL);\n    const newsList = [];\n\n    newsList.push('<ul>');\n\n    for(let i = (store.currentPage - 1) * 10; i < store.currentPage * 10; i++){\n        \n        newsList.push(`\n        <li>\n            <a href=\"#/show/${newsFeed[i].id}\">\n            ${newsFeed[i].title} (${newsFeed[i].comments_count})\n            </a>\n        </li>    \n        `);   \n    } \n    \n    newsList.push('</ul>');\n    newsList.push(`\n    <div>\n        <a href = \"#/page/${store.currentPage > 1 ? store.currentPage - 1 : 1}\">이전 페이지</a>\n        <a href = \"#/page/${store.currentPage + 1}\">다음 페이지</a>\n    </div>\n    `);\n    container.innerHTML = newsList.join('');\n\n}\n\n//뉴스 상세 내용\nfunction newsDetail(){\n    const id = location.hash.substr(7);\n    const newsContent = getData(CONTENT_URL.replace('@id',id));\n\n    container.innerHTML = `\n    <h1>${newsContent.title}</h1>\n\n    <div>\n        <a href=\"#/page/${store.currentPage}\">목록으로</a>\n    </div>    \n    `;\n}\n\n//라우터 : 상황에 맞게 화면을 중계해주는 것 (a화면 b화면 c화면)\nfunction router(){\n    const routPath = location.hash;\n\n    //location.hash에 #이 들어오면 빈값만 반환한다.\n    if(routPath === ''){\n        newsFeed();\n    } else if(routPath.indexOf('#/page/') >= 0){\n        store.currentPage = Number(routPath.substr(7));\n        newsFeed();\n    } else {\n        newsDetail();\n    }\n}\n\nwindow.addEventListener('hashchange', router);\n\nrouter();"]}